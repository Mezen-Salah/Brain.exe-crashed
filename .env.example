# ============================================================================
# FINCOMMERCE ENGINE - ENVIRONMENT CONFIGURATION
# ============================================================================
# Copy this file to .env and fill in your actual values
# cp .env.example .env
#
# Get Google Gemini API Key: https://makersuite.google.com/app/apikey (FREE)
# ============================================================================

# ============================================================================
# API KEYS (REQUIRED)
# ============================================================================
GOOGLE_API_KEY=your_google_api_key_here
OPENAI_API_KEY=your_openai_key_here_optional

# ============================================================================
# QDRANT VECTOR DATABASE
# ============================================================================
QDRANT_HOST=localhost
QDRANT_PORT=6333
QDRANT_GRPC_PORT=6334
QDRANT_COLLECTION_PRODUCTS=products
QDRANT_COLLECTION_USERS=users
QDRANT_COLLECTION_FINANCIAL_KB=financial_kb
QDRANT_COLLECTION_TRANSACTIONS=transactions

# ============================================================================
# REDIS CACHE & RL STATE
# ============================================================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_CACHE_TTL=3600

# ============================================================================
# EMBEDDING CONFIGURATION
# ============================================================================
EMBEDDING_MODEL=openai/clip-vit-base-patch32
EMBEDDING_DIMENSION=512
CHUNK_SIZE=512

# ============================================================================
# LLM CONFIGURATION (Google Gemini)
# ============================================================================
LLM_MODEL=gemini-1.5-flash
LLM_TEMPERATURE=0.7
LLM_MAX_TOKENS=500

# ============================================================================
# ROUTING CONFIGURATION
# ============================================================================
COMPLEXITY_THRESHOLD_FAST=0.3
COMPLEXITY_THRESHOLD_SMART=0.7

# ============================================================================
# THOMPSON SAMPLING (Reinforcement Learning)
# ============================================================================
THOMPSON_ALPHA_INIT=1.0
THOMPSON_BETA_INIT=1.0

# Signal Weights (how user actions affect learning)
SIGNAL_WEIGHT_VIEW=0.1
SIGNAL_WEIGHT_CLICK=0.3
SIGNAL_WEIGHT_ADD_TO_CART=0.7
SIGNAL_WEIGHT_PURCHASE=1.0
SIGNAL_WEIGHT_SKIP=-0.3
SIGNAL_WEIGHT_REMOVE_FROM_CART=-0.5
SIGNAL_WEIGHT_RETURN=-1.0

# ============================================================================
# K-MEANS CLUSTERING
# ============================================================================
KMEANS_N_CLUSTERS=10

# ============================================================================
# SEARCH CONFIGURATION
# ============================================================================
SEARCH_TOP_K=50
FINAL_RECOMMENDATIONS=10
ALTERNATIVES_PER_PRODUCT=3

# ============================================================================
# FINANCIAL RULES & THRESHOLDS
# ============================================================================
DTI_THRESHOLD=0.43
PTI_THRESHOLD=0.15
DISPOSABLE_INCOME_RATIO=0.30
EMERGENCY_FUND_MONTHS_MIN=3
EMERGENCY_FUND_MONTHS_MAX=6
CREDIT_SCORE_THRESHOLD=650

# ============================================================================
# RAGAS QUALITY TARGETS
# ============================================================================
RAGAS_CONTEXT_PRECISION_TARGET=0.85
RAGAS_CONTEXT_RECALL_TARGET=0.80
RAGAS_FAITHFULNESS_TARGET=0.90
RAGAS_ANSWER_RELEVANCY_TARGET=0.85

# ============================================================================
# BACKEND SERVER
# ============================================================================
BACKEND_HOST=0.0.0.0
BACKEND_PORT=8000

# ============================================================================
# FRONTEND (Streamlit)
# ============================================================================
STREAMLIT_PORT=8501
BACKEND_URL=http://localhost:8000
